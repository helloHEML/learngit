package com.rongke.yinshengbao;import com.alibaba.fastjson.JSON;import com.alibaba.fastjson.JSONObject;import com.rongke.utils.HttpClientUtil;import com.rongke.utils.Md5;import java.util.HashMap;import java.util.Map;/** * 銀生宝快捷支付 */public class QuickPayUtil {    /**     *快捷支付接口     * @param customerId  用户id     * @param orderNo  订单编码     * @param amount  打款金额     * @return     */    public static JSONObject quickPay(String customerId, String orderNo, String amount) throws Exception {        String accountId=Config.getInstance().getValue("yinshengbao.accountId");//商户号        String responseUrl=Config.getInstance().getValue("yinshengbao.quickPayBackUrl");//结果通知地址        String pageResponseUrl=Config.getInstance().getValue("yinshengbao.pageResponseUrl");//前台相应地址        String quickPayUrl=Config.getInstance().getValue("yinshengbao.quickPayUrl");//请求地址        Map map=new HashMap();        map.put("accountId",accountId);        map.put("customerId",customerId);        map.put("orderNo",orderNo);        map.put("commodityName","租金");        map.put("amount",amount);        map.put("responseUrl",responseUrl);        map.put("pageResponseUrl",pageResponseUrl);        StringBuilder sb=new StringBuilder();        sb.append("accountId=").append(accountId);        sb.append("&customerId=").append(customerId);        sb.append("&orderNo=").append(orderNo);        sb.append("&commodityName=").append("租金");        sb.append("&amount=").append(amount);        sb.append("&responseUrl=").append(responseUrl);        sb.append("&pageResponseUrl=").append(pageResponseUrl);        sb.append("&key=").append(Config.getInstance().getValue("yinshengbao.key"));        System.out.print("请求参数："+sb.toString());        map.put("mac", Md5.md5Encode(sb.toString()).toUpperCase());        System.out.print("请求参数签名："+Md5.md5Encode(sb.toString()).toUpperCase());        String result = HttpClientUtil.sendPostSSLRequest(quickPayUrl, JSON.toJSONString(map),HttpClientUtil.charset,"application/json");        System.out.println(quickPayUrl + "  request result is " + result);        JSONObject retJson = JSONObject.parseObject(result);        return retJson;    }    public static String getRet(String retCode){        Map<String,String> dataMap = new HashMap<String, String>();        dataMap.put("0000","操作成功");        dataMap.put("1111","系统异常");        dataMap.put("1000","签名错误");        dataMap.put("1025","订单编码为空");        dataMap.put("1026","订单不存在");        dataMap.put("1028","商户号为空");        dataMap.put("1032","MAC为空");        dataMap.put("1033","商户不存在");        dataMap.put("1034","商户冻结");        dataMap.put("1035","快捷支付产品未开通");        dataMap.put("1041","验签失败");        dataMap.put("1048","交易不存在");        dataMap.put("1049","交易异常");        return dataMap.get(retCode);    }    /**     *订单状态查询接口     * @param orderNo  订单编码     * @return     */    public static JSONObject quickPay( String orderNo) throws Exception {        String accountId=Config.getInstance().getValue("accountId");//商户号        String quickOrderStatusUrl=Config.getInstance().getValue("yinshengbao.quickPayOrderStatusUrl");//请求地址        Map map=new HashMap();        map.put("accountId",accountId);        map.put("orderNo",orderNo);        StringBuilder sb=new StringBuilder();        sb.append("accountId=").append(accountId);        sb.append("&orderNo=").append(orderNo);        sb.append("&key=").append(Config.getInstance().getValue("yinshengbao.key"));        System.out.print("请求参数："+sb.toString());        map.put("mac", Md5.md5Encode(sb.toString()).toUpperCase());        System.out.print("请求参数签名："+Md5.md5Encode(sb.toString()).toUpperCase());        String result = HttpClientUtil.sendPostSSLRequest(quickOrderStatusUrl, JSON.toJSONString(map),HttpClientUtil.charset,"application/json");        System.out.println(quickOrderStatusUrl + "  request result is " + result);        JSONObject retJson = JSONObject.parseObject(result);        return retJson;    }}