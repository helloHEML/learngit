<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.rongke.mapper.UserPhoneMapper">    <resultMap type="com.rongke.model.UserPhone" id="rmUserPhone">        <id property="id" column="id" />        <result property="userId" column="userId"/>        <result property="phone" column="phone"/>        <result property="status" column="status"/>        <result property="useTime" column="useTime"/>        <result property="gmtDatetime" column="gmtDatetime"/>        <result property="uptDatetime" column="uptDatetime"/>        <association property="user" javaType="com.rongke.model.User" >            <id property="id" column="userPhone_userId" />        </association>    </resultMap>    <resultMap type="com.rongke.model.UserPhone" id="mUserPhone">        <id property="id" column="userPhone_id" />        <result property="userId" column="userPhone_userId"/>        <result property="phone" column="userPhone_phone"/>        <result property="netAge" column="userPhone_netAge"/>        <result property="status" column="userPhone_status"/>        <result property="useTime" column="userPhone_useTime"/>        <result property="gmtDatetime" column="userPhone_gmtDatetime"/>        <result property="uptDatetime" column="userPhone_uptDatetime"/>        <result property="taskId" column="userPhone_taskId"/>        <association property="user" javaType="com.rongke.model.User" >            <id property="id" column="user_id" />            <result property="phone" column="user_phone"/>            <result property="realName" column="user_realName"/>        </association>    </resultMap>    <sql id="mUserPhonePkSql">        user_phone.id AS userPhone_id,        user_phone.user_id AS userPhone_userId,        user_phone.phone AS userPhone_phone,        user_phone.status AS userPhone_status,        user_phone.use_time AS userPhone_useTime,        user_phone.gmt_datetime AS userPhone_gmtDatetime,        user_phone.upt_datetime AS userPhone_uptDatetime    </sql>    <sql id="mUserPhoneSql">        id AS id,        user_id AS userId,        phone AS phone,        status AS status,        use_time AS useTime,        gmt_datetime AS gmtDatetime,        upt_datetime AS uptDatetime    </sql>    <select id="selectByCondition" parameterType="UserPhone" resultMap="rmUserPhone">    select    <include refid="mUserPhoneSql"></include>    from user_phone    <where>        <if test="id!= null">            AND id=#{id}        </if>        <if test="userId!= null">            AND user_id=#{userId}        </if>        <if test="phone!= null">            AND phone=#{phone}        </if>        <if test="status!= null">            AND status=#{status}        </if>        <if test="useTime!= null">            AND use_time=#{useTime}        </if>        <if test="gmtDatetime!= null">            AND gmt_datetime=#{gmtDatetime}        </if>        <if test="uptDatetime!= null">            AND upt_datetime=#{uptDatetime}        </if>    </where>    </select>    <select id="selectByPage" parameterType="java.util.Map" resultMap="mUserPhone">        select        user_phone.id AS userPhone_id,        user_phone.user_id AS userPhone_userId,        user_phone.phone AS userPhone_phone,        user_phone.net_age AS userPhone_netAge,        user_phone.task_id AS userPhone_taskId,        user_phone.gmt_datetime AS userPhone_gmtDatetime,        `user`.id AS user_id,        `user`.real_name AS user_realName,        `user`.phone AS user_phone        from user_phone,`user`        WHERE user_phone.user_id=`user`.id        <if test="phone!= null and phone!= ''">            AND  `user`.`phone` LIKE CONCAT(CONCAT('%',#{phone}),'%')        </if>        <if test="time1!= null and time1!=''">            AND datediff(user_phone.gmt_datetime,#{time1}) &gt;=0        </if>        <if test="time2!= null and time2!=''">            AND datediff(user_phone.gmt_datetime,#{time2}) &lt;=0        </if>        AND  `user_phone`.`status`='使用'        ORDER BY user_phone.gmt_datetime DESC        <if test="_parameter.containsKey('pageNo')">            LIMIT ${pageNo},${pageSize}        </if>    </select>    <select id="selectCount" parameterType="java.util.Map" resultType="java.lang.Integer">        select        COUNT(1)        from user_phone,`user`        WHERE user_phone.user_id=`user`.id        <if test="phone!= null and phone!= ''">            AND  `user`.`phone` LIKE CONCAT(CONCAT('%',#{phone}),'%')        </if>        <if test="time1!= null and time1!=''">            AND datediff(user_phone.gmt_datetime,#{time1}) &gt;=0        </if>        <if test="time2!= null and time2!=''">            AND datediff(user_phone.gmt_datetime,#{time2}) &lt;=0        </if>        AND  `user_phone`.`status`='使用'    </select>    <select id="selectPartByPage" parameterType="java.util.Map" resultMap="mUserPhone">        select        user_phone.id AS userPhone_id,        user_phone.user_id AS userPhone_userId,        user_phone.phone AS userPhone_phone,        user_phone.net_age AS userPhone_netAge,        user_phone.gmt_datetime AS userPhone_gmtDatetime,        `user`.id AS user_id,        `user`.real_name AS user_realName,        `user`.phone AS user_phone        from user_phone,`user`,authentication        WHERE user_phone.user_id=`user`.id        AND authentication.user_id=user.id        <if test="phone!= null and phone!= ''">            AND  `user`.`phone` LIKE CONCAT(CONCAT('%',#{phone}),'%')        </if>        <if test="userId!= null and userId!= ''">            AND `user`.`user_id` =#{userId}        </if>        <if test="adminId!= null and adminId!= ''">            AND authentication.auditor_id=#{adminId}        </if>        <if test="time1!= null and time1!=''">            AND datediff(user_phone.gmt_datetime,#{time1}) &gt;=0        </if>        <if test="time2!= null and time2!=''">            AND datediff(user_phone.gmt_datetime,#{time2}) &lt;=0        </if>        AND  `user_phone`.`status`='使用'        ORDER BY user_phone.gmt_datetime DESC        <if test="_parameter.containsKey('pageNo')">            LIMIT ${pageNo},${pageSize}        </if>    </select>    <select id="selectPartCount" parameterType="java.util.Map" resultType="java.lang.Integer">        select        COUNT(1)        from user_phone,`user`,authentication        WHERE user_phone.user_id=`user`.id        AND authentication.user_id=user.id        <if test="phone!= null and phone!= ''">            AND  `user`.`phone` LIKE CONCAT(CONCAT('%',#{phone}),'%')        </if>        <if test="userId!= null and userId!= ''">            AND `user`.`user_id` =#{userId}        </if>        <if test="adminId!= null and adminId!= ''">            AND authentication.auditor_id=#{adminId}        </if>        <if test="time1!= null and time1!=''">            AND datediff(user_phone.gmt_datetime,#{time1}) &gt;=0        </if>        <if test="time2!= null and time2!=''">            AND datediff(user_phone.gmt_datetime,#{time2}) &lt;=0        </if>        AND  `user_phone`.`status`='使用'    </select>    </mapper>